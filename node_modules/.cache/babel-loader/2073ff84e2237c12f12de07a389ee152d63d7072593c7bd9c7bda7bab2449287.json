{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialAuthState = {\n  userData: [],\n  formValid: false,\n  form: {\n    email: true,\n    password: true\n  }\n};\nconst authSlicer = createSlice({\n  name: 'authentication',\n  initialState: initialAuthState,\n  reducers: {\n    formValidHandler(state) {\n      state.formValid = true;\n    },\n    formHandler(state, action) {\n      state.form.email = action.payload.email;\n      state.form.password = action.payload.password;\n    },\n    userDataHandler(state, action) {\n      state.userData = action.payload.data;\n    }\n  }\n});\nexport const signIn = props => {\n  console.log(\"haan yahi hia\", props);\n  return dispatch => {\n    const signinData = async () => {\n      await fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json', {\n        method: 'POST',\n        body: JSON.stringify({\n          username: props.username,\n          email: props.email,\n          password: props.password\n        })\n      });\n    };\n  };\n};\nexport const logIn = () => {\n  return async dispatch => {\n    const fetchUserData = async () => {\n      const response = await fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json');\n      if (!response.ok) {\n        throw new Error('something went wrong while fetching data');\n      }\n      const temp = await response.json();\n      const data = [];\n      for (const key in temp) {\n        console.log(\"key\");\n        data.push({\n          username: temp[key].username,\n          email: temp[key].email,\n          password: temp[key].password\n        });\n      }\n      dispatch(authActions.userDataHandler({\n        data\n      }));\n    };\n    await fetchUserData();\n  };\n};\nexport const authActions = authSlicer.actions;\nexport default authSlicer;","map":{"version":3,"names":["createSlice","initialAuthState","userData","formValid","form","email","password","authSlicer","name","initialState","reducers","formValidHandler","state","formHandler","action","payload","userDataHandler","data","signIn","props","console","log","dispatch","signinData","fetch","method","body","JSON","stringify","username","logIn","fetchUserData","response","ok","Error","temp","json","key","push","authActions","actions"],"sources":["F:/React/food-app/src/store/auth.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialAuthState = {\r\n    userData : [],\r\n    formValid : false,\r\n    form : {email : true, password : true}\r\n} \r\n\r\nconst authSlicer = createSlice({\r\n    name : 'authentication',\r\n    initialState : initialAuthState,\r\n    reducers : {\r\n        formValidHandler(state){\r\n            state.formValid = true;\r\n        },\r\n        formHandler(state, action){\r\n            state.form.email = action.payload.email;\r\n            state.form.password = action.payload.password;\r\n        },\r\n        userDataHandler(state, action){\r\n            state.userData = action.payload.data;\r\n        }\r\n    }\r\n})\r\n\r\nexport const signIn = (props) => {\r\n    console.log(\"haan yahi hia\", props);\r\n    return (dispatch) => {\r\n        const signinData = async () => {\r\n             await fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json',{\r\n                method : 'POST',\r\n                body : JSON.stringify({\r\n                    username : props.username,\r\n                    email : props.email,\r\n                    password : props.password\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const logIn = () => {\r\n\r\n    return async (dispatch) => {\r\n        \r\n        const  fetchUserData = async () => {\r\n            const response = await fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json');\r\n\r\n            if(!response.ok){\r\n                throw new Error('something went wrong while fetching data');\r\n            }\r\n\r\n            \r\n            const temp = await response.json();\r\n            \r\n            const data = [];\r\n            for(const key in temp){\r\n                console.log(\"key\");\r\n                data.push({\r\n                    username : temp[key].username,\r\n                    email: temp[key].email,\r\n                    password : temp[key].password\r\n                });\r\n            }\r\n            \r\n            dispatch(authActions.userDataHandler({data}));\r\n        }\r\n        await fetchUserData();\r\n    }\r\n}\r\n\r\nexport const authActions = authSlicer.actions;\r\nexport default authSlicer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACrBC,QAAQ,EAAG,EAAE;EACbC,SAAS,EAAG,KAAK;EACjBC,IAAI,EAAG;IAACC,KAAK,EAAG,IAAI;IAAEC,QAAQ,EAAG;EAAI;AACzC,CAAC;AAED,MAAMC,UAAU,GAAGP,WAAW,CAAC;EAC3BQ,IAAI,EAAG,gBAAgB;EACvBC,YAAY,EAAGR,gBAAgB;EAC/BS,QAAQ,EAAG;IACPC,gBAAgB,CAACC,KAAK,EAAC;MACnBA,KAAK,CAACT,SAAS,GAAG,IAAI;IAC1B,CAAC;IACDU,WAAW,CAACD,KAAK,EAAEE,MAAM,EAAC;MACtBF,KAAK,CAACR,IAAI,CAACC,KAAK,GAAGS,MAAM,CAACC,OAAO,CAACV,KAAK;MACvCO,KAAK,CAACR,IAAI,CAACE,QAAQ,GAAGQ,MAAM,CAACC,OAAO,CAACT,QAAQ;IACjD,CAAC;IACDU,eAAe,CAACJ,KAAK,EAAEE,MAAM,EAAC;MAC1BF,KAAK,CAACV,QAAQ,GAAGY,MAAM,CAACC,OAAO,CAACE,IAAI;IACxC;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMC,MAAM,GAAIC,KAAK,IAAK;EAC7BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,KAAK,CAAC;EACnC,OAAQG,QAAQ,IAAK;IACjB,MAAMC,UAAU,GAAG,YAAY;MAC1B,MAAMC,KAAK,CAAC,8DAA8D,EAAC;QACxEC,MAAM,EAAG,MAAM;QACfC,IAAI,EAAGC,IAAI,CAACC,SAAS,CAAC;UAClBC,QAAQ,EAAGV,KAAK,CAACU,QAAQ;UACzBxB,KAAK,EAAGc,KAAK,CAACd,KAAK;UACnBC,QAAQ,EAAGa,KAAK,CAACb;QACrB,CAAC;MACL,CAAC,CAAC;IACN,CAAC;EAEL,CAAC;AACL,CAAC;AAED,OAAO,MAAMwB,KAAK,GAAG,MAAM;EAEvB,OAAO,MAAOR,QAAQ,IAAK;IAEvB,MAAOS,aAAa,GAAG,YAAY;MAC/B,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAAC,8DAA8D,CAAC;MAE5F,IAAG,CAACQ,QAAQ,CAACC,EAAE,EAAC;QACZ,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;MAC/D;MAGA,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;MAElC,MAAMnB,IAAI,GAAG,EAAE;MACf,KAAI,MAAMoB,GAAG,IAAIF,IAAI,EAAC;QAClBf,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;QAClBJ,IAAI,CAACqB,IAAI,CAAC;UACNT,QAAQ,EAAGM,IAAI,CAACE,GAAG,CAAC,CAACR,QAAQ;UAC7BxB,KAAK,EAAE8B,IAAI,CAACE,GAAG,CAAC,CAAChC,KAAK;UACtBC,QAAQ,EAAG6B,IAAI,CAACE,GAAG,CAAC,CAAC/B;QACzB,CAAC,CAAC;MACN;MAEAgB,QAAQ,CAACiB,WAAW,CAACvB,eAAe,CAAC;QAACC;MAAI,CAAC,CAAC,CAAC;IACjD,CAAC;IACD,MAAMc,aAAa,EAAE;EACzB,CAAC;AACL,CAAC;AAED,OAAO,MAAMQ,WAAW,GAAGhC,UAAU,CAACiC,OAAO;AAC7C,eAAejC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}