{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialAuthState = {\n  userData: {},\n  formValid: false,\n  form: {\n    email: true,\n    password: true\n  }\n};\nconst authSlicer = createSlice({\n  name: 'authentication',\n  initialState: initialAuthState,\n  reducers: {\n    formValidHandler(state) {\n      state.formValid = true;\n    },\n    formHandler(state, action) {\n      state.form.email = action.payload.email;\n      state.form.password = action.payload.password;\n    },\n    userDataHandler(state) {}\n  }\n});\nexport const signIn = () => {\n  return dispatch => {\n    const signinData = props => {\n      fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json', {\n        method: 'POST',\n        body: JSON.stringify({\n          username: props.username,\n          email: props.email,\n          password: props.password\n        })\n      });\n    };\n  };\n};\nexport const logIn = () => {\n  return dispatch => {\n    const fetchUserData = () => {\n      const response = fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json');\n      if (!response.ok) {\n        throw new Error('something went wrong while fetching data');\n      }\n      console.log(\"data\");\n      const data = response.json();\n      console.log(data);\n      dispatch(authActions.userDataHandler({\n        data\n      }));\n    };\n  };\n};\nexport const authActions = authSlicer.actions;\nexport default authSlicer;","map":{"version":3,"names":["createSlice","initialAuthState","userData","formValid","form","email","password","authSlicer","name","initialState","reducers","formValidHandler","state","formHandler","action","payload","userDataHandler","signIn","dispatch","signinData","props","fetch","method","body","JSON","stringify","username","logIn","fetchUserData","response","ok","Error","console","log","data","json","authActions","actions"],"sources":["F:/React/food-app/src/store/auth.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialAuthState = {\r\n    userData : {},\r\n    formValid : false,\r\n    form : {email : true, password : true}\r\n} \r\n\r\nconst authSlicer = createSlice({\r\n    name : 'authentication',\r\n    initialState : initialAuthState,\r\n    reducers : {\r\n        formValidHandler(state){\r\n            state.formValid = true;\r\n        },\r\n        formHandler(state, action){\r\n            state.form.email = action.payload.email;\r\n            state.form.password = action.payload.password;\r\n        },\r\n        userDataHandler(state){\r\n\r\n        }\r\n    }\r\n})\r\n\r\nexport const signIn = () => {\r\n\r\n    return (dispatch) => {\r\n        const signinData = (props) => {\r\n            fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json',{\r\n                method : 'POST',\r\n                body : JSON.stringify({\r\n                    username : props.username,\r\n                    email : props.email,\r\n                    password : props.password\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const logIn = () => {\r\n\r\n    return (dispatch) => {\r\n        const fetchUserData = () => {\r\n            const response = fetch('https://food-app-74f07-default-rtdb.firebaseio.com/auth.json');\r\n\r\n            if(!response.ok){\r\n                throw new Error('something went wrong while fetching data');\r\n            }\r\n            console.log(\"data\");\r\n            const data = response.json();\r\n            console.log(data);\r\n            dispatch(authActions.userDataHandler({data}));\r\n        }\r\n    }\r\n}\r\n\r\nexport const authActions = authSlicer.actions;\r\nexport default authSlicer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACrBC,QAAQ,EAAG,CAAC,CAAC;EACbC,SAAS,EAAG,KAAK;EACjBC,IAAI,EAAG;IAACC,KAAK,EAAG,IAAI;IAAEC,QAAQ,EAAG;EAAI;AACzC,CAAC;AAED,MAAMC,UAAU,GAAGP,WAAW,CAAC;EAC3BQ,IAAI,EAAG,gBAAgB;EACvBC,YAAY,EAAGR,gBAAgB;EAC/BS,QAAQ,EAAG;IACPC,gBAAgB,CAACC,KAAK,EAAC;MACnBA,KAAK,CAACT,SAAS,GAAG,IAAI;IAC1B,CAAC;IACDU,WAAW,CAACD,KAAK,EAAEE,MAAM,EAAC;MACtBF,KAAK,CAACR,IAAI,CAACC,KAAK,GAAGS,MAAM,CAACC,OAAO,CAACV,KAAK;MACvCO,KAAK,CAACR,IAAI,CAACE,QAAQ,GAAGQ,MAAM,CAACC,OAAO,CAACT,QAAQ;IACjD,CAAC;IACDU,eAAe,CAACJ,KAAK,EAAC,CAEtB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMK,MAAM,GAAG,MAAM;EAExB,OAAQC,QAAQ,IAAK;IACjB,MAAMC,UAAU,GAAIC,KAAK,IAAK;MAC1BC,KAAK,CAAC,8DAA8D,EAAC;QACjEC,MAAM,EAAG,MAAM;QACfC,IAAI,EAAGC,IAAI,CAACC,SAAS,CAAC;UAClBC,QAAQ,EAAGN,KAAK,CAACM,QAAQ;UACzBrB,KAAK,EAAGe,KAAK,CAACf,KAAK;UACnBC,QAAQ,EAAGc,KAAK,CAACd;QACrB,CAAC;MACL,CAAC,CAAC;IACN,CAAC;EAEL,CAAC;AACL,CAAC;AAED,OAAO,MAAMqB,KAAK,GAAG,MAAM;EAEvB,OAAQT,QAAQ,IAAK;IACjB,MAAMU,aAAa,GAAG,MAAM;MACxB,MAAMC,QAAQ,GAAGR,KAAK,CAAC,8DAA8D,CAAC;MAEtF,IAAG,CAACQ,QAAQ,CAACC,EAAE,EAAC;QACZ,MAAM,IAAIC,KAAK,CAAC,0CAA0C,CAAC;MAC/D;MACAC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,MAAMC,IAAI,GAAGL,QAAQ,CAACM,IAAI,EAAE;MAC5BH,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;MACjBhB,QAAQ,CAACkB,WAAW,CAACpB,eAAe,CAAC;QAACkB;MAAI,CAAC,CAAC,CAAC;IACjD,CAAC;EACL,CAAC;AACL,CAAC;AAED,OAAO,MAAME,WAAW,GAAG7B,UAAU,CAAC8B,OAAO;AAC7C,eAAe9B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}